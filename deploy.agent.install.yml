- name: Playbook de instalação do Agentes de hosts no Zabbix /  Proxy
  hosts:

    #- zbx_front
    #- zbx_db
    #- zbx_proxy

  vars:
    # VARIAVEL DE URL_ZABBIX
    - url_packages_zabbix: http://repo.zabbix.com/zabbix/5.5/rhel/8/x86_64/zabbix-release-5.5-1.el8.noarch.rpm
    - url_zabbix_api: http://192.168.3.100/zabbix/
    - username: 'Admin'
    - password: 'zabbix'
    - proxy_name: 'zabbixproxy'
    - zbx_srv: 192.168.3.110
    - zbx_proxy: 192.168.3.130

    # Para Monitoramento banco de Dados Ativar Opções Abaixo e Adcionar host destino em hosts.
    #- host_template: 
    #      - Linux by Zabbix agent active
    #      - MySQL by Zabbix agent 2
    #      - ICMP Ping

    #- host_grupo: 'Zabbix servers'

    # Template e Grupo para Ativação para instalar agente e adcionar templates e grupo .
    # - host_template: 
    #      - Linux by Zabbix agent active
    #      - Apache by Zabbix agent
    #      - ICMP Ping
    # - host_grupo: 'Zabbix servers' 
 

  roles:
    
    - role: zabbix_agent_linux

